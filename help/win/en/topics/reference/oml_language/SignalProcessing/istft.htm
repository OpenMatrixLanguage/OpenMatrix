
<!DOCTYPE html
  PUBLIC "" "about:legacy-compat">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />        
      <meta name="copyright" content="(C) Copyright 2023" /><meta name="DC.rights.owner" content="(C) Copyright 2023" /><meta name="DC.Type" content="reference" /><meta name="DC.Title" content="istft" /><meta name="abstract" content="Inverse Short-Time Fourier Transform." /><meta name="description" content="Inverse Short-Time Fourier Transform." /><meta name="DC.Coverage" content="OpenMatrix Language" /><meta name="DC.Coverage" content="Signal Processing Commands" /><meta name="indexterms" content="istft" /><meta name="DC.subject" content="istft" /><meta name="keywords" content="istft" /><meta name="DC.Relation" scheme="URI" content="../../../../topics/reference/oml_language/SignalProcessing/signalprocessing_commands.htm" /><meta name="DC.Relation" scheme="URI" content="../../../../topics/reference/oml_language/SignalProcessing/ifft.htm" /><meta name="DC.Relation" scheme="URI" content="../../../../topics/reference/oml_language/SignalProcessing/stft.htm" /><meta name="DC.Format" content="XHTML" /><meta name="DC.Identifier" content="reference_wpv_kyv_pr" /><link rel="stylesheet" type="text/css" href="../../../../oxygen-webhelp/resources/css/commonltr.css?buildId=2018042310"><!----></link><title>istft</title><!--  Generated with Oxygen version 20.0-SNAPSHOT, build number 2018042310.  --><link rel="stylesheet" type="text/css" href="../../../../oxygen-webhelp/resources/css/webhelp_topic.css?buildId=2018042310"><!----></link><link rel="stylesheet" type="text/css" href="../../../../open_matrix_custom.css" /><script type="text/javascript"><!--
          
          var prefix = "../../../../index.htm";
          
          --></script><script type="text/javascript" src="../../../../oxygen-webhelp/resources/js/jquery-3.1.1.min.js"><!----></script><script type="text/javascript" src="../../../../oxygen-webhelp/resources/js/jquery.cookie.js"><!----></script><script type="text/javascript" src="../../../../oxygen-webhelp/resources/js/jquery.highlight-3.js"><!----></script><script type="text/javascript" charset="utf-8" src="../../../../oxygen-webhelp/resources/js/log.js?buildId=2018042310"><!----></script><script type="text/javascript" charset="utf-8" src="../../../../oxygen-webhelp/resources/js/webhelp_topic.js?buildId=2018042310"><!----></script></head>
<body onload="highlightSearchTerm()" class="frmBody" id="reference_wpv_kyv_pr">
<header role="banner"><table class="nav"><tbody><tr><td colspan="2"><div id="printlink"><a href="javascript:window.print();" title="Print this page"></a></div><div id="permalink"><a href="#" title="Link to this page"></a></div></td></tr><tr><td style="width:75%;"><span class="topic_breadcrumb_links"><span class="topic_breadcrumb_link"><a class="navheader_parent_path" href="../../../../topics/reference/oml_language/SignalProcessing/../../../../topics/reference/oml_language/oml_reference_guide_r.htm" title="The Reference Guide contains documentation for all functions supported in the OpenMatrix language.">Reference Guide for OpenMatrix Language Functions</a></span><span class="topic_breadcrumb_link"><a class="navheader_parent_path" href="../../../../topics/reference/oml_language/SignalProcessing/signalprocessing_commands.htm" title="Signal Processing Commands">Signal Processing Commands</a></span></span></td><td><span id="topic_navigation_links" class="navheader">
<span class="navparent"><a class="link" href="../../../../topics/reference/oml_language/SignalProcessing/signalprocessing_commands.htm" title="Signal Processing Commands"><span class="navheader_label">Parent topic</span><span class="navheader_separator">: </span><span class="navheader_linktext">Signal Processing Commands</span></a></span>  </span></td></tr></tbody></table></header><main role="main"><article role="article" aria-labelledby="ariaid-title1">
  <h1 class="title topictitle1" id="ariaid-title1">istft</h1>

  
  
  <div class="body refbody"><p class="shortdesc">Inverse Short-Time Fourier Transform.</p>

    <section class="section" id="reference_wpv_kyv_pr__section_md2_d1r_f2b"><h2 class="title sectiontitle">Syntax</h2>
      
      <p class="p"><span class="ph synph">x = istft<span class="ph var">(x)</span></span></p>

      <p class="p"><span class="ph synph">x = istft<span class="ph var">(st,fs)</span></span></p>

      <p class="p"><span class="ph synph">x = istft<span class="ph var">(st,fs,window)</span></span></p>

      <p class="p"><span class="ph synph">x = istft<span class="ph var">(st,fs,window,overlap)</span></span></p>

      <p class="p"><span class="ph synph">x = istft<span class="ph var">(st,fs,window,overlap,nfft)</span></span></p>

      <p class="p"><span class="ph synph">x = istft<span class="ph var">(st,fs,window,overlap,nfft)</span></span></p>

      <p class="p"><span class="ph synph">x = istft<span class="ph var">(st,fs,window,overlap,nfft,range)</span></span></p>

      <p class="p"><span class="ph synph">[st,t] = istft<span class="ph var">(...)</span></span></p>

      <?STOP?>
    </section>

    <section class="section"><h2 class="title sectiontitle"><span class="keyword">Inputs</span></h2>
      
      <dl class="dl parml">
        
          <dt class="dt pt dlterm"><var class="keyword varname">st</var></dt>

          <dd class="dd pd">The short-time fourier transform input, with segments stored by column.</dd>

        
        
          <dt class="dt pt dlterm"><var class="keyword varname">window</var></dt>

          <dd class="dd pd">The window size, or the window column vector.</dd>

          <dd class="dd pd ddexpand">Default: hann(256, 'periodic').</dd>

          <dd class="dd pd ddexpand">Type: <span class="keyword">integer | vec</span></dd>

          <dd class="dd pd ddexpand">Dimension: <span class="keyword">scalar | vector</span></dd>

        
        
          <dt class="dt pt dlterm"><var class="keyword varname">overlap</var></dt>

          <dd class="dd pd">The number of overlapping points in adjacent windows.</dd>

          <dd class="dd pd ddexpand">Default: 0.</dd>

          <dd class="dd pd ddexpand">Type: <span class="keyword">integer</span></dd>

          <dd class="dd pd ddexpand">Dimension: <span class="keyword">scalar</span></dd>

        
        
          <dt class="dt pt dlterm"><var class="keyword varname">nfft</var></dt>

          <dd class="dd pd">The size of the (two-sided) fft.</dd>

          <dd class="dd pd ddexpand">Default: the window length.</dd>

          <dd class="dd pd ddexpand">Required for <var class="keyword varname">range</var> = <span class="keyword option">'onesided'</span>.</dd>

          <dd class="dd pd ddexpand">Ignored for <var class="keyword varname">range</var> = <span class="keyword option">'twosided'</span>.</dd>

          <dd class="dd pd ddexpand">Type: <span class="keyword">integer</span></dd>

          <dd class="dd pd ddexpand">Dimension: <span class="keyword">scalar</span></dd>

        
        
          <dt class="dt pt dlterm"><var class="keyword varname">fs</var></dt>

          <dd class="dd pd">The sampling frequency.</dd>

          <dd class="dd pd ddexpand">Default: 1 Hz.</dd>

          <dd class="dd pd ddexpand">Type: <span class="keyword">double</span></dd>

          <dd class="dd pd ddexpand">Dimension: <span class="keyword">scalar</span></dd>

        
        
          <dt class="dt pt dlterm"><var class="keyword varname">range</var></dt>

          <dd class="dd pd">The spectrum type. The options are as follows:
            <ul class="ul">
              <li class="li"><span class="keyword option">'onesided'</span></li>

              <li class="li"><span class="keyword option">'twosided'</span> (default)</li>

            </ul>

          </dd>

          <dd class="dd pd ddexpand">Type: <span class="keyword">string</span></dd>

        
      </dl>

      <?STOPINP?>
    </section>

    <section class="section"><h2 class="title sectiontitle"><span class="keyword">Outputs</span></h2>
      
      <dl class="dl parml">
        
          <dt class="dt pt dlterm"><var class="keyword varname">x</var></dt>

          <dd class="dd pd">The generated time domain signal.</dd>

          <dd class="dd pd ddexpand">Type: <span class="keyword">double</span></dd>

          <dd class="dd pd ddexpand">Dimension: <span class="keyword">vector</span></dd>

        
        
          <dt class="dt pt dlterm"><span class="ph synph">t</span></dt>

          <dd class="dd pd">The vector of times corresponding to the start of each column of <var class="keyword varname">st</var>.</dd>

          <dd class="dd pd ddexpand">Type: <span class="keyword">vector</span></dd>

        
      </dl>

      <?STOPOUT?>
    </section>

    <section class="section"><h2 class="title sectiontitle">Example</h2>
      
      <p class="p">Use stft/istft to remove frequency components with low magnitudes from a linear chirp signal.</p>

        <pre class="pre codeblock"><code>
f0 = 0;
f1 = 5;
T = 4;
c = (f1 - f0) / T;
t = [0:0.01:T-0.01];
x1 = sin(2 * pi * ((c/2)*t.^2 + f0*t));
[st, t_st, f] = stft(x1, 100, 20, 10, 32, 'onesided');
idx = (abs(st) &gt; 2.5);
st = st .* idx;
x2 = istft(st, 100, 20, 10, 32, 'onesided');
plot(t, x1);
hold on;
plot(t, x2);
legend('original', 'filtered');
        </code></pre>
      <figure class="fig fignone" id="reference_wpv_kyv_pr__fig_t5n_v4r_bt">
        
        <br /><img class="image" id="reference_wpv_kyv_pr__image_ofg_2xm_c5" src="images/istft_help_figure1.png" height="350" width="350" /><br />
      <span class="figcap"><span class="fig--title-label">Figure 1. </span>istft figure 1</span></figure>

    </section>

    <section class="section"><h2 class="title sectiontitle">Comments</h2>
      
      <p class="p"><span class="keyword cmdname">stft</span> and <span class="keyword cmdname">istft</span> are not true inverses.
        Once the spectrum is modified in some way there may be no time signal that
        exactly corresponds to it due to overlap. The time signal produced is a
        least squares fit based on analysis in the following paper:

        Daniel W. Griffin and Jae S. Lim "Signal Estimation from Modified Short - Time Fourier Transform",
        IEEE 1984, 10.1109.</p>

      <p class="p">Default values are assigned to arguments with a [] input.</p>

      <p class="p">The fs, window, overlap, nfft, and range inputs should correspond to those used
        when calling <span class="keyword cmdname">stft</span>.</p>

      <p class="p">With no return arguments the function will automatically plot the result.</p>

      <p class="p">The window type and overlap should be chosen to meet the constant-overlap-add
        (COLA) criterion. Examples of this include the Hann window when overlapped by
        1/2 or 2/3.</p>

    </section>

    <section class="section">
      
    </section>

  </div>

<nav role="navigation" class="related-links">
<div class="linklist linklist"><strong>See Also</strong><br />

<div class="related_link"><a class="navheader_parent_path" href="../../../../topics/reference/oml_language/SignalProcessing/ifft.htm" title="Inverse Fast Fourier transform.">ifft</a></div>
<div class="related_link"><a class="navheader_parent_path" href="../../../../topics/reference/oml_language/SignalProcessing/stft.htm" title="Short-Time Fourier Transform.">stft</a></div></div>
</nav></article></main><footer role="contentinfo"><div class="navfooter"><!---->
<span class="navparent"><a class="link" href="../../../../topics/reference/oml_language/SignalProcessing/signalprocessing_commands.htm" title="Signal Processing Commands"><span class="navheader_label">Parent topic</span><span class="navheader_separator">: </span><span class="navheader_linktext">Signal Processing Commands</span></a></span>  </div><div class="footer" id="webhelp_copyright_information">
        
        <div>
            <p>(c) Altair Engineering, Inc. and Contributors. (2007-2023)</p>
               
        </div>
    </div></footer></body>
</html>